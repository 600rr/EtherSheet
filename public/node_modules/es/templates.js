if (typeof define !== 'function') { var define = require('amdefine')(module) }
define( function(require){

/*
    Templates
*/
// if we are in the browser, templates should have already been loaded
if(window && window.templates) return window.templates;


// if we are on the server, load the templates
// NOTE: currently this is only for running tests via the commandline 
//       and is COMPLETELY TERRIBLE. 
var foo = require;
var stitchit = foo('stitchit');

var TEMPLATE_PATH = __dirname + '/templates/';
var TEMPLATE_NAMESPACE = 'templates';

var templates = stitchit({path:TEMPLATE_PATH, namespace:TEMPLATE_NAMESPACE});

// Buahahaha
eval(templates);

module.exports = templates;

});
